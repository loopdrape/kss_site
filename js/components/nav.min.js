!function(e,t){"use strict";t(e.Klass,e.app,e.vuwer,e.jQuery||e.$)}(this,function(e,t,i,s){"use strict";i.add("nav",{selector:"#site_nav",onReady:function(e){t.categories=[],e.on("click","a",function(e){var t;/archive$/.test(this.href)||(e.preventDefault(),t=s.data(e.delegateTarget,"vuw"),t.get("switchNavLinks").setState("isChecked",!1),i.changePathname(this.pathname,this.search))}).children(".link-list").find("a[href^='/tagged/']").each(function(){var e=this.href.split("/");t.categories.push(e.pop())})},onChangeState:function(e){var t={};return t.searchBox=this.get("searchBox"),t.searchBox.getState("rockOpen")!==e.isFixed?(t.methods=[],t.methods.push(t.searchBox.setState("rockOpen",!!e.isFixed)),t.btnSearch=this.get("btnSearch"),t.htmlFor=e.isFixed||t.btnSearch.getState("focus")?"search_submit":"inp_q",t.methods.push(t.btnSearch.setState("htmlFor",t.htmlFor)),s.when.apply(s,t.methods)):void 0}},function(){this.add("switchNavLinks",{selector:"#show_nav_links",onReady:function(e){this.$link=e.closest(".btn-toggle"),e.on("change",function(){var i=s.data(this,"vuw");i.$link.toggleClass("is-checked",this.checked)})},onChangeState:function(e){"boolean"==typeof e.isChecked&&this.$self.prop("checked",!!e.isChecked).trigger("change",[!0])}}).add("searchBox",{selector:"#search_box",onReady:function(e){e.on("click",".inp-txt",function(e,t){var i=s.data(e.delegateTarget,"vuw");i.setState("focus",!0),!!t&&s(this).trigger("focus",[!0])}).on("blur",".inp-txt",function(e){var t=s.data(e.delegateTarget,"vuw");t.setState("focus",!1)}),this.$inp=s("#inp_q"),this.state.focus=!1},onChangeState:function(e){this.$self.toggleClass("is-focus",e.focus).toggleClass("is-rockOpen",e.rockOpen).closest(".link-list").toggleClass("is-form-focus",e.focus)}}).add("btnSearch",{selector:function(){return this.getOther("searchBox").$self.find(".btn-search")},onReady:function(){this.state.htmlFor=this.$self.attr("for"),this.$self.on("click",function(e){var t=s.data(this,"vuw");"inp_q"===t.getState("htmlFor")&&(e.preventDefault(),t.getOther("searchBox").$inp.trigger("click",[!0]))})},onChangeState:function(e){!!e.htmlFor&&this.$self.attr("for",e.htmlFor)}})})});