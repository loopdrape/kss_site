!function(){"use strict";function e(){this._initialize.apply(this,arguments)}var t=e.prototype={_ver:"1.1.3",name:"",ACTION_URL:"",_environment:"",_GET:{},_initialize:function(e,t){this.isString(e)?"http"===e.slice(0,4)||"."===e.slice(0,1)||"/"===e.slice(0,1)?this.ACTION_URL=e:this.name=e:"object"!=typeof e||t||(t=e),this.URL=location.origin+location.pathname,this._GET=this.parseQueryString(window.location.search),this.browser=this.__getBrowser(),this.device=this.__getDevice(),this.config={},t||(t=location.host),function(){var e,i;e=this.URL.split("/"),"object"==typeof t?(t.dev||(t.dev="dev"),t.test||(t.test="test"),t.prod||(t.prod=location.host),i=e.lastIndexOf(t.dev),this._environment="dev",0>i&&(i=e.lastIndexOf(t.test),this._environment="test",0>i&&(i=e.lastIndexOf(t.prod),this._environment="prod"))):this.isString(t)&&(i=e.lastIndexOf(t),this._environment="prod"),this.config.rootpath=e.slice(0,i+1).join("/")+"/",this.config.rootdir=e[i]}.call(this),this.config.rootpath&&function(){var t,e={};if(e.pageDirLv=this.URL.replace(this.config.rootpath,"").split("/").length,1===e.pageDirLv)this._relativePath=".";else{for(e.arr=[],e.len=e.pageDirLv-1,t=0;t<e.len;t++)e.arr.push("..");this._relativePath=e.arr.join("/")}}.call(this)},LOG:!0,cnLog:function(){if(this.LOG&&("ie"!==this.browser[0]||"8"!==this.browser[1])){var e=Array.prototype.slice.call(arguments,0);console.log.apply(console,e)}},WARN:!0,cnWarn:function(){if(this.WARN&&("ie"!==this.browser[0]||"8"!==this.browser[1])){var e=Array.prototype.slice.call(arguments,0);console.warn.apply(console,e)}},enablePushState:history&&history.pushState&&void 0!==history.state?!0:!1,pushState:function(e,t){if(this.enablePushState){try{history.pushState(e,this.name,t)}catch(i){return this.cnWarn("history.pushState",i),!1}return this}return!1},replaceState:function(e,t){if(this.enablePushState){try{history.replaceState(e,this.name,t)}catch(i){return this.cnWarn("history.replaceState",i),!1}return this}return!1},getVersion:function(){return this._ver},__getBrowser:function(){var e=window.navigator.userAgent.toLowerCase(),t=window.navigator.appVersion.toLowerCase(),i=[];return-1!=e.indexOf("msie")?(i.push("ie"),-1!=t.indexOf("msie 10.")?i.push(10):-1!=t.indexOf("msie 9.")?i.push(9):(i.push(8),i.push("under"))):-1!=e.indexOf("trident")?(i.push("ie"),i.push(11),i.push("over")):-1!=e.indexOf("chrome")?i.push("chrome"):-1!=e.indexOf("safari")?i.push("safari"):-1!=e.indexOf("opera")?i.push("opera"):-1!=e.indexOf("firefox")&&i.push("firefox"),i},__getDevice:function(){var e=window.navigator.userAgent.toLowerCase(),t=["pc"];return-1!==e.indexOf("iphone")||-1!==e.indexOf("ipad")||-1!==e.indexOf("ipod")?(t[0]="sp",t.push("ios")):-1!==e.indexOf("android ")?(t[0]="sp",t.push("android")):-1!==e.indexOf("windows phone ")&&(t[0]="sp",t.push("windows")),t},ajaxErrorCallback:function(t,i,n){this instanceof e&&"prod"!==this._environment&&this.cnWarn("通信失敗",t.responseText,t.status,i,n.message);var a="サーバーとの通信に失敗しました";return a+="<br><b>Status</b>: "+t.status,i&&(a+=" ("+i+")"),"prod"!==this._environment&&(t.responseText&&(a+="<br>"+t.responseText),n.message&&(a+="<br><br><b>Error message</b>: "+n.message)),a},zeroPadding:function(e,t){return(new Array(t).join("0")+e).slice(-t)},isObject:function(e){return"object"==typeof e},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isInteger:function(e){return this.isNumber(e)&&Math.round(e)===e},isFunction:function(e){return"function"==typeof e},isElement:function(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}},hasHalfKana:function(e){return this.isString(e)?/[ｦｧ-ｯｰｱ-ﾝﾞﾟ]/.test(e):(this.cnWarn("hasHalfKana","arguments[0] must be string."),!1)},hasHalfChar:function(e,t){if(!this.isString(e))return this.cnWarn("hasHalfChar","arguments[0] must be string."),!1;if(this.isNumber(t)||(t=0),!t&&this.hasHalfKana(e))return!0;var i,n,a=e.length,s=/[｡｢｣､･]/;for(n=0;a>n;n++)if(i=e.charAt(n),window.escape(i).length<6||s.test(i))return!0;return!1},hasFullChar:function(e){if(!this.isString(e))return this.cnWarn("hasFullChar","arguments[0] must be string."),!1;var t,i,n=e.length,a=/[｡｢｣､･]/;for(i=0;n>i;i++)if(t=e.charAt(i),window.escape(t).length>=6&&!a.test(t)&&!this.hasHalfKana(t))return!0;return!1},pathInfo:function(e){if(!this.isString(e))return this.cnWarn("pathInfo","arguments[0] must be string."),!1;var t={_a:document.createElement("a")};return t._a.href=e||"./",e=e.replace(t._a.search,"").replace(t._a.hash,""),t.delimiter=new RegExp("/").exec(e)?"/":"\\",t.pathParts=e.split(t.delimiter),t.basename=t.pathParts.slice(-1)[0],t.arr=t.basename.split("."),t.idx=t.arr.length-1,{dirname:t.pathParts.slice(0,-1).join("/"),basename:t.basename,extension:t.arr.length>1?t.arr[t.idx]:"",filename:t.arr.slice(0,t.idx).join("."),search:t._a.search,hash:t._a.hash}},replacePathinfo:function(e,t){if(!this.isString(e)||!this.isString(t))return e;var i=this.pathInfo(t);return e=e.replace(/\{dirname\}/g,i.dirname),e=e.replace(/\{basename\}/g,i.basename),e=e.replace(/\{extension\}/g,i.extension),e=e.replace(/\{filename\}/g,i.filename)},parseQueryString:function(e){if(!this.isString(e))return this.cnWarn("parseQueryString","arguments[0] must be string."),!1;var i,n,a,s,t={};if(e.indexOf("?")<0&&(e="?"+e),i=this.pathInfo(e).search,i=i.replace(/^\?/,""))for(i=i.split("&"),n=0;n<i.length;n++){for(s=i[n].split("="),a=0;a<s.length;a++)s[a]=decodeURIComponent(s[a]);t[s[0]]=s.slice(1).join("=")}return t},createQueryString:function(e){if("object"!=typeof e)return this.cnWarn("createQueryString","arguments[0] must be object."),!1;var n,t="",i=[];for(n in e)i.push(n+"="+encodeURIComponent(e[n]));return i.length&&(t="?"+i.join("&")),t},textareaParse:function(e,t){if(!this.isString(e))return this.cnWarn("textareaParse","arguments[0] must be string."),!1;"boolean"==typeof t||(t=!1);var r,i=e.split(/\r\n|\r|\n/),n=i.length,a=[],s=document.createElement(t?"p":"span");for(r=0;n>r;r++)i[r]||(i[r]="&nbsp;"),s.innerHTML=i[r],a.push(s.outerHTML);return a.join(t?"":"<br/>")},preloadedImgs:{},imgPreload:function(e,t){var i=this,n=this.preloadedImgs,a=new Image;a.src=e,a.onerror=function(n){i.cnWarn("preload error: "+e),t(!1,e,a,n)},a.onload=function(i){n[e]=a,"function"==typeof t&&t(!0,e,a,i)}},newCall:function(e){return new(Function.prototype.bind.apply(e,arguments))},inherits:function(e,t){if(void 0===e||null===e)throw new TypeError("The constructor to `inherits` must not be null or undefined.");if(void 0===t||null===t)throw new TypeError("The super constructor to `inherits` must not be null or undefined.");if(void 0===t.prototype)throw new TypeError("The super constructor to `inherits` must have a prototype.");e.super_=t,Object.setPrototypeOf(e.prototype,t.prototype)}};!function(){t._scrollTop=0,t.saveScroll=function(e){return this.isNumber(e)||(e=window.pageYOffset),this._scrollTop=e,this},t.loadScroll=function(){return window.scrollTo(window.pageXOffset,this._scrollTop),this},t.setScroll=function(e){return this.isNumber(e)?window.scrollTo(window.pageXOffset,e):this.cnWarn(String(e)+"isn't Number."),this}}(),window.WebAppBase=e,function(e){Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},a=function(){return i.apply(this instanceof n&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,a.prototype=new n,a}),Object.assign||(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(void 0!==n&&null!==n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}),Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=i.length;return function(a){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on non-object");var s=[];for(var r in a)e.call(a,r)&&s.push(r);if(t)for(var o=0;n>o;o++)e.call(a,i[o])&&s.push(i[o]);return s}}()),Object.setPrototypeOf||(Object.defineProperty&&("ie"!==e[0]||parseInt(e[1])>8)?Object.defineProperty(Object,"setPrototypeOf",{value:function(e,t){e.__proto__=t},writable:!0,configurable:!0}):Object.setPrototypeOf=function(e,t){e.__proto__=t}),Object.getPrototypeOf||(Object.defineProperty&&("ie"!==e[0]||parseInt(e[1])>8)?Object.defineProperty(Object,"getPrototypeOf",{value:function(e){return e.__proto__},writable:!0,configurable:!0}):Object.getPrototypeOf=function(e){return e.__proto__}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),i=t.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>0&&(n=Number(arguments[1]),n!=n?n=0:0!==n&&1/0!=n&&n!=-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var a=n>=0?n:Math.max(i-Math.abs(n),0);i>a;a++)if(a in t&&t[a]===e)return a;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),i=t.length>>>0;if(0===i)return-1;var n=i;arguments.length>1&&(n=Number(arguments[1]),n!=n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))));for(var a=n>=0?Math.min(n,i-1):i-Math.abs(n);a>=0;a--)if(a in t&&t[a]===e)return a;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var i,n;if(null===this)throw new TypeError("this is null or not defined");var a=Object(this),s=a.length>>>0;if("[object Function]"!=={}.toString.call(e))throw new TypeError(e+" is not a function");for(t&&(i=t),n=0;s>n;){var r;Object.prototype.hasOwnProperty.call(a,n)&&(r=a[n],e.call(i,r,n,a)),n++}}),Array.prototype.map||(Array.prototype.map=function(e,t){var i,n,a;if(null===this)throw new TypeError(" this is null or not defined");var s=Object(this),r=s.length>>>0;if("[object Function]"!={}.toString.call(e))throw new TypeError(e+" is not a function");for(t&&(i=t),n=new Array(r),a=0;r>a;){var o,h;a in s&&(o=s[a],h=e.call(i,o,a,s),n[a]=h),a++}return n}),Array.prototype.filter||(Array.prototype.filter=function(e){if(null===this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=[],a=arguments[1],s=0;i>s;s++)if(s in t){var r=t[s];e.call(a,r,s,t)&&n.push(r)}return n}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Date.now||(Date.now=function(){return(new Date).getTime()}),location.origin||(location.origin=location.protocol+"//"+location.hostname),window.console||(window.console={}),"function"!=typeof window.console.log&&(window.console.log=function(){})}(t.__getBrowser())}();