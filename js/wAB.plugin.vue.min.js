!function(e,t){"use strict";return e?t?(e.Vue=function(){this._initialize.apply(this,arguments)},e.Vue.prototype={_ver:"1.0.0",$self:!1,$template:!1,_initialize:function(e,t){var a={name:"",selector:"",createTemplate:function(){},onReady:function(){},onChangeState:function(){},render:function(){},renderComplete:function(){}};return a=e.isObject(t)?t:{},!a.name&&(a.name=String((new Date).valueOf())),this._wAB=e,this.isReady=!1,this.state={},this._onReadyCallbacks=[],a.onReady&&(this.onReady(a.onReady),delete a.onReady),this._onChangeStateCallbacks=[],a.onChangeState&&(this.onChangeState(a.onChangeState),delete a.onChangeState),this.setProp(a)},getProp:function(e){return this.hasOwnProperty(e)?this[e]:void 0},setProp:function(e,t,a){return e?this._wAB.isString(e)?this._setProp(e,t,!!a):this._wAB.isObject(e)&&(a=t===!0,e.onReady&&(this.onReady(e.onReady),delete e.onReady),e.onChangeState&&(this.onChangeState(e.onChangeState),delete e.onChangeState),Object.keys(e).forEach(function(t){this._setProp(t,e[t],a)},this)):this._wAB.cnWarn((this.name||"Vue")+".setProp() ... arguments[0] is required."),this},_setProp:function(e,t,a){return this.hasOwnProperty(e)&&!a?this._wAB.cnWarn((this.name||"Vue")+".setProp() ... '"+e+"' is already defined."):this[e]=t,this},_templateAreaPropTo:"_wAB",getTemplateArea:function(e){var a;return this[this._templateAreaPropTo]._$templateArea||(this[this._templateAreaPropTo]._$templateArea=t("<div/>").addClass("vue-template-area").hide().appendTo(document.body)),a=this[this._templateAreaPropTo]._$templateArea,e===!1?a.get(0):a},getReady:function(){var a,e=t.Deferred();return this.isReady?(this._wAB.cnLog("** "+this.name+".getReady() is already executed."),e.resolve().promise()):this.isGettingReady?(this._wAB.cnLog("** "+this.name+" is getting ready now..."),e.resolve().promise()):(this.isGettingReady=!0,!!this.selector&&function(){var e;this._wAB.isString(this.selector)?e=t(this.selector):this._wAB.isFunction(this.selector)&&(e=this.selector.call(this)),e&&e instanceof t&&e.length&&(void 0!==e.attr("data-vue-template")?(this.$template=e,e=t("<var/>").attr("data-vue",this.name).insertBefore(this.$template),this.$self=e):(this.$self=e,t.data(this.$self.get(0),"vue",this)))}.call(this),this._wAB.isFunction(this.createTemplate)&&function(){var e;e=this.createTemplate.call(this),e&&e instanceof t&&e.length&&(this.$template=e)}.call(this),!!this.$template&&this.$template.appendTo(this.getTemplateArea()),a=this._onReadyCallbacks.map(function(e){return e.call(this,this.$self,this.$template)},this),t.when.apply(t,a).then(function(){this.isReady=!0,delete this.isGettingReady,e.resolve.apply(e,Array.prototype.slice.call(arguments,0))}.bind(this),e.reject.bind(e)),e.promise())},onReady:function(e){return this._wAB.isFunction(e)&&(this.isReady?(this._wAB.cnLog(this.name,"isReady to execute."),e.call(this,this.$self,this.$template)):this._onReadyCallbacks.push(e)),this},getState:function(e){return this.isReady?e&&this._wAB.isString(e)?this.state[e]:this.state:(this._wAB.cnWarn(this.name+".getState() ... getReady() didn't execute yet."),!1)},setState:function(e,a){var i=t.Deferred(),n=!1;return this.isReady?this.isChangingState?(this._wAB.cnLog(this.name+" is changing state...",[e,a]),i.reject()):e?this._wAB.isString(e)?(this.state[e]=a,n=!0):this._wAB.isObject(e)?(this.state=e,n=!0):(this._wAB.cnWarn(this.name+".setState() ... arguments error."),i.reject()):(this._wAB.cnWarn(this.name+".setState() ... arguments[0] is required."),i.reject()):(this._wAB.cnWarn(this.name+".setState() ... getReady() didn't execute yet."),i.reject()),n&&this.changeState().then(function(){!!this.$self&&this.$self.trigger("changeState"),i.resolve.apply(i,Array.prototype.slice.call(arguments,0))}.bind(this),i.reject.bind(i)),i.promise()},changeState:function(){var a,e=t.Deferred();return this.isChangingState=!0,a=this._onChangeStateCallbacks.map(function(e){return e.call(this,this.state)},this),t.when.apply(t,a).then(function(){var t=this._execRender(Array.prototype.slice.call(arguments,0));this.isChangingState=!1,e.resolve(t)}.bind(this),function(){this.isChangingState=!1,e.reject.apply(e,Array.prototype.slice(arguments,0))}),e.promise()},onChangeState:function(e){return this._wAB.isFunction(e)&&this._onChangeStateCallbacks.push(e),this},getCloneFromTemplate:function(){var e=!1;return this.$template&&(e=this.$template.clone().attr({id:null,"data-vue-template":null}).removeClass("template")),e},_execRender:function(){var a,e=Array.prototype.slice.call(arguments,0);return e.unshift(this.getCloneFromTemplate()),a=this.render.apply(this,e),this._wAB.isFunction(this.renderComplete)&&this.renderComplete(a),this.$self&&a&&(a instanceof t||!this._wAB.isElement(a)&&!this._wAB.isString(a)||(a=t(a)),a instanceof t&&a.length&&(this.$self.replaceWith(a),this.$self=a)),a},render:function(){},renderComplete:function(){}},e.initVue=function(){var e=Array.prototype.slice.call(arguments,0);return e.unshift(this.Vue,this),this.newCall.apply(this,e)},void(e.useVuer=function(){return this.vuer=this.initVue({name:"vuer",selector:function(){return t(window)},_vueMap:{},onReady:function(e){var i,a=t.Deferred();return this.$window=e,i=Object.keys(this._vueMap).map(function(e){return this._vueMap[e]instanceof this._wAB.Vue?this._vueMap[e].getReady():void 0},this),t.when.apply(t,i).then(function(){var e=Object.keys(this._vueMap),t={};Array.prototype.slice.call(arguments,0).forEach(function(a,i){Array.isArray(a)&&(a=a.filter(function(e){return!!e}),!a.length&&(a=void 0)),void 0===a||(t[e[i]]=a)},this),this.isReady=!0,a.resolve(t)}.bind(this),a.reject.bind(a)),a.promise()},onChangeState:function(e){this._wAB._GET=e},add:function(e,a,i){var n;return this._wAB.isString(e)?e in this._vueMap&&!i?(this._wAB.cnWarn("vuer.add() ... '"+e+"' is already defined."),this):(this._wAB.isObject(a)||(a={}),Object.assign(a,{name:e,_templateAreaPropTo:"_vuer",getCloneFromTemplate:function(){var e=this,a=this._wAB.Vue.prototype.getCloneFromTemplate.call(this);return a&&a.find("[data-vue]").each(function(){var r,a=t(this),i=a.data("vue"),n=e.getOther(i);n&&(n.setProp("$self",a,!0),r=e.getState(i),e._wAB.isObject(r)&&n.setState(r))}),a}}),n=this._wAB.initVue(a),this._vueMap[n.name]=n,this):(this._wAB.cnWarn("vuer.add() ... arguments[0] is must be string.",typeof e),this)},get:function(e){return this._vueMap[e]}}),Object.assign(this.Vue.prototype,{_vuer:this.vuer,getVuer:function(){return this._vuer},getOther:function(e){return this.getVuer().get(e)}}),this})):(console.warn("'$' isn't included."),!1):(console.warn("'WebAppBase' isn't included."),!1)}(window.WebAppBase.prototype,window.jQuery||window.$);