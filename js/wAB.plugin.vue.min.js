!function(e,t){"use strict";return e?t?(e.Vue=function(){this._initialize.apply(this,arguments)},e.Vue.prototype={_ver:"1.0.0",$self:!1,$template:!1,_initialize:function(e,t){var i={name:"",selector:"",createTemplate:function(){},onReady:function(){},onChangeState:function(){},render:function(){},renderComplete:function(){}};return i=e.isObject(t)?t:{},!i.name&&(i.name=String((new Date).valueOf())),this._wAB=e,this.isReady=!1,this.state={},this._onReadyCallbacks=[],i.onReady&&(this.onReady(i.onReady),delete i.onReady),this._onChangeStateCallbacks=[],i.onChangeState&&(this.onChangeState(i.onChangeState),delete i.onChangeState),this.setProp(i)},getProp:function(e){return this.hasOwnProperty(e)?this[e]:void 0},setProp:function(e,t,i){return e?this._wAB.isString(e)?this._setProp(e,t,!!i):this._wAB.isObject(e)&&(i=t===!0,e.onReady&&(this.onReady(e.onReady),delete e.onReady),e.onChangeState&&(this.onChangeState(e.onChangeState),delete e.onChangeState),Object.keys(e).forEach(function(t){this._setProp(t,e[t],i)},this)):this._wAB.cnWarn((this.name||"Vue")+".setProp() ... arguments[0] is required."),this},_setProp:function(e,t,i){return this.hasOwnProperty(e)&&!i?this._wAB.cnWarn((this.name||"Vue")+".setProp() ... '"+e+"' is already defined."):this[e]=t,this},_templateAreaPropTo:"_wAB",getTemplateArea:function(e){var i;return this[this._templateAreaPropTo]._$templateArea||(this[this._templateAreaPropTo]._$templateArea=t("<div/>").addClass("vue-template-area").hide().appendTo(document.body)),i=this[this._templateAreaPropTo]._$templateArea,e===!1?i.get(0):i},getReady:function(){var i,e=t.Deferred();return this.isReady?(this._wAB.cnLog("** "+this.name+".getReady() is already executed."),e.resolve()):this.isGettingReady?(this._wAB.cnLog("** "+this.name+" is getting ready now..."),e.resolve()):(this.isGettingReady=!0,!!this.selector&&function(){var e;this._wAB.isString(this.selector)?e=t(this.selector):this._wAB.isFunction(this.selector)&&(e=this.selector.call(this)),e&&e instanceof t&&e.length&&(void 0!==e.attr("data-vue-template")?(this.$template=e,e=t("<var/>").attr("data-vue",this.name).insertBefore(this.$template),this.$self=e):(this.$self=e,t.data(this.$self.get(0),"vue",this)))}.call(this),this._wAB.isFunction(this.createTemplate)&&function(){var e;e=this.createTemplate.call(this),e&&e instanceof t&&e.length&&(this.$template=e)}.call(this),!!this.$template&&this.$template.appendTo(this.getTemplateArea()),i=this._onReadyCallbacks.map(function(e){return e.call(this,this.$self,this.$template)},this),t.when.apply(t,i).then(function(){this.isReady=!0,delete this.isGettingReady,e.resolve.apply(e,Array.prototype.slice.call(arguments,0))}.bind(this),e.reject.bind(e))),e.promise()},onReady:function(e){return this._wAB.isFunction(e)&&(this.isReady?(this._wAB.cnLog(this.name,"isReady to execute."),e.call(this,this.$self,this.$template)):this._onReadyCallbacks.push(e)),this},getState:function(e){return this.isReady?e&&this._wAB.isString(e)?this.state[e]:this.state:(this._wAB.cnWarn(this.name+".getState() ... getReady() didn't execute yet."),!1)},setState:function(e,i){var n=t.Deferred(),r=!1;return this.isReady?this.isChangingState?(this._wAB.cnLog(this.name+" is changing state...",[e,i]),n.reject()):e?this._wAB.isString(e)?(this.state[e]=i,r=!0):this._wAB.isObject(e)?(this.state=e,r=!0):(this._wAB.cnWarn(this.name+".setState() ... arguments error."),n.reject()):(this._wAB.cnWarn(this.name+".setState() ... arguments[0] is required."),n.reject()):(this._wAB.cnWarn(this.name+".setState() ... getReady() didn't execute yet."),n.reject()),r&&this.changeState().then(function(){!!this.$self&&this.$self.trigger("changeState"),n.resolve.apply(n,Array.prototype.slice.call(arguments,0))}.bind(this),n.reject.bind(n)),n.promise()},changeState:function(){var i,e=t.Deferred();return this.isChangingState=!0,i=this._onChangeStateCallbacks.map(function(e){return e.call(this,this.state)},this),t.when.apply(t,i).then(function(){var t=this._execRender(Array.prototype.slice.call(arguments,0));this.isChangingState=!1,e.resolve(t)}.bind(this),function(){this.isChangingState=!1,e.reject.apply(e,Array.prototype.slice(arguments,0))}),e.promise()},onChangeState:function(e){return this._wAB.isFunction(e)&&this._onChangeStateCallbacks.push(e),this},getCloneFromTemplate:function(){var e=!1;return this.$template&&(e=this.$template.clone().attr({id:null,"data-vue-template":null}).removeClass("template")),e},_execRender:function(){var i,e=Array.prototype.slice.call(arguments,0);return e.unshift(this.getCloneFromTemplate()),i=this.render.apply(this,e),this.$self&&i&&(i instanceof t||!this._wAB.isElement(i)&&!this._wAB.isString(i)||(i=t(i)),i instanceof t&&i.length&&(this.$self.replaceWith(i),this.$self=i,t.data(this.$self.get(0),"vue",this),this._wAB.isFunction(this.renderComplete)&&this.renderComplete(i))),i},render:function(){},renderComplete:function(){}},e.initVue=function(){var e=Array.prototype.slice.call(arguments,0);return e.unshift(this.Vue,this),this.newCall.apply(this,e)},void(e.useVuer=function(){return this.vuer=this.initVue({name:"vuer",selector:function(){return t(window)},_vueMap:{},_childKlass:"VuerComponent",_getComponentsReady:function(){var i,e=t.Deferred();return i=Object.keys(this._vueMap).map(function(e){return this._vueMap[e]instanceof this._KlassMap[this._childKlass]?this._vueMap[e].getReady():void 0},this),t.when.apply(t,i).then(function(){var t=Object.keys(this._vueMap),i={};Array.prototype.slice.call(arguments,0).forEach(function(e,n){Array.isArray(e)&&(e=e.filter(function(e){return!!e}),!e.length&&(e=void 0)),void 0===e||(i[t[n]]=e)},this),this.isReady=!0,e.resolve(i)}.bind(this),e.reject.bind(e)),e.promise()},onReady:function(e){return this.$window=e,this._getComponentsReady()},onChangeState:function(e){this._wAB._GET=e},add:function(e,t,i){var n;if(this._wAB.isFunction(e)&&e instanceof this._KlassMap[this._childKlass])n=e;else{if(!this._wAB.isString(e))return this._wAB.cnWarn("vuer.add() ... arguments[0] is must be string.",typeof e),this;if(e in this._vueMap&&!i)return this._wAB.cnWarn("vuer.add() ... '"+e+"' is already defined."),this;this._wAB.isObject(t)||(t={}),Object.assign(t,{name:e}),t.vueType&&this._wAB.isString(t.vueType)?(e="Vue"+t.vueType.slice(0,1).toUpperCase()+t.vueType.slice(1),this._wAB.isFunction(this._KlassMap[e])||(e=this._childKlass,t.vueType="component")):(e=this._childKlass,t.vueType="component"),n=new this._KlassMap[e](this._wAB,t)}return this._vueMap[n.name]=n,this},get:function(e){return this._wAB.isString(e)?this._vueMap[e]||!1:(this._wAB.cnWarn("vuer.get() ... arguments[0] is must be string.",typeof e),!1)},remove:function(e){var t;return this._wAB.isString(e)?(t=this.get(e))?(t.$self&&t.$self.length&&t.$self.remove(),t.$template&&t.$template.length&&t.$template.remove(),delete this._vueMap[e],this):this:(this._wAB.cnWarn("vuer.remove() ... arguments[0] is must be string.",typeof e),this)},_KlassMap:{},appendKlass:function(e,t,i){function r(){this._initialize.apply(this,arguments)}var n;if(!this._wAB.isString(e))return this._wAB.cnWarn("vuer.appendKlass() ... arguments[0] is must be string.",typeof e),this;if(this._KlassMap[e])return this._wAB.cnWarn("vuer.appendKlass() ... '"+e+"' is already defined."),this;if(this._wAB.isString(i)){if(!this._wAB.isFunction(this._KlassMap[i]))return this._wAB.cnWarn("vuer.appendKlass() ... '"+i+"' is undefined."),this;n=this._KlassMap[i]}else if(this._wAB.isFunction(i))n=i;else{if(!this._wAB.isFunction(this._KlassMap[this._childKlass]))return this._wAB.cnWarn("vuer.appendKlass() ... '"+this._childKlass+"' is undefined."),this;n=this._KlassMap[this._childKlass]}return this._wAB.inherits(r,n),this._wAB.isObject(t)&&Object.assign(r.prototype,t),this._KlassMap[e]=r,this},getKlass:function(e){return this._KlassMap[e]}}),this.vuer.appendKlass("VuerComponent",{_vuer:this.vuer,_templateAreaPropTo:"_vuer",getVuer:function(){return this._vuer},getOther:function(e){return this.getVuer().get(e)},getCloneFromTemplate:function(){var e=this,i=this._wAB.Vue.prototype.getCloneFromTemplate.call(this);return i&&i.find("[data-vue]").each(function(){var s,i=t(this),n=i.data("vue"),r=e.getOther(n);r&&(r.setProp("$self",i,!0),s=e.getState(n),e._wAB.isObject(s)&&r.setState(s))}),i}},this.Vue),this.vuer.appendKlass("VueContainer",{_initialize:function(e,t){return this.callSuper("_initialize",e,t)?(this.onReady(this.getVuer()._getComponentsReady.bind(this)),this):!1},_vueMap:{},_childKlass:"",add:function(){var n=Array.prototype.slice.call(arguments,0);return this.getVuer().add.apply(this,n),this},get:function(e){return this.getVuer().get.call(this,e)},_KlassMap:this.vuer._KlassMap},"VuerComponent"),this})):(console.warn("'$' isn't included."),!1):(console.warn("'WebAppBase' isn't included."),!1)}(window.WebAppBase.prototype,window.jQuery||window.$);