// out:null
.site-nav {
	position: relative;
	z-index: 1;
	
	@media (max-width: @mq_w) {
		margin-top: -@block_space;
	}
	
	.btn-toggle {
		display: none;
	}
	
	.link-list {
		display: flex;
		flex-direction: row;
		flex-wrap: nowrap;
		justify-content: space-between;
		padding-bottom: (@icon_size + @block_pad / 2);
		text-align: center;
		
		@media (max-width: @mq_w) {
			.transform( skew(0, @base_skewY) );
			.transform-origin(100% 0);
			flex-wrap: wrap;
			padding-bottom: (@icon_size + @block_pad);
		}
		
		> li {
			flex-grow: 1;
			font-size: 1.2rem;
			padding: (@block_pad / 2) 0;
			position: relative;
			width: 25%;
			
			@media (min-width: (@mq_w + 1px)) {
				padding: @block_space 0 (@block_pad + @block_space);
				width: 12.5%;
			}
			
			&:first-child {	// .search-box's wrapper
				.transform( translateX(-50%) );
				bottom: 0;
				font-size: inherit;
				padding: 0;
				position: absolute;
				left: 50%;
				width: auto;
				z-index: 5;
				
				@media (max-width: @mq_w) {
					form {
						.transform( skew(0, (@base_skewY * -1)) );
						.transform-origin(50% 50%);
					}
				}
			}
			
			> a {
				color: @base_bgc;
				display: inline-block;
				text-decoration: none;
				width: 100%;
				
				&:before {
					display: block;
					font-size: @icon_size;
				}
				
				@media (min-width: (@mq_w + 1px)) {
					width:  auto;
					
					&:before {
						position: relative;
						z-index: 5;
					}
					
					span {
						position: relative;
						z-index: 5;
					}
					
					&:after {
						.transform-origin(0% 50%);
						.transition(background .2s);
						content: "";
						display: block;
						height: 30vw;
						left: 0;
						position: absolute;
						top: -50%;
						width: 20vw;
					}
				}
			}
			
			@media (max-width: @mq_w) {
				&:nth-child(2) {
					background-color: tint(@theme_c, 60%);
				}
				
				&:nth-child(3n + 3) {
					background-color: tint(@theme_c, 65%);
				}
				
				&:nth-child(3n + 4) {
					background-color: tint(@theme_c, 70%);
				}
				
				&:nth-child(3n + 5) {
					background-color: tint(@theme_c, 75%);
				}
				
				&:nth-child(9n) {
					background-color: tint(@theme_c, 80%);
				}
			}
			
			@media (min-width: (@mq_w + 1px)) {
				@skewY: ((@base_skewX * -1) + 90deg);
				
				&:nth-child(2) {
					> a {
						margin-right: 3vw;
						
						&:after {
							.transform( skew(0, @skewY) );
							background-color: tint(@theme_c, 75%);
							z-index: 3;
						}
					}
				}
				
				&:nth-child(3) {
					> a {
						margin-right: 1vw;
						
						&:after {
							.transform( skew(4deg, @skewY) );
							background-color: tint(@theme_c, 70%);
							z-index: 2;
						}
					}
				}
				
				&:nth-child(4) {
					> a {
						margin-right: .5vw;
						
						&:after {
							.transform( skew(8deg, @skewY) );
							background-color: tint(@theme_c, 65%);
							z-index: 1;
						}
					}
				}
				
				&:nth-child(5) {
					> a {
						margin-right: .3vw;
						
						&:after {
							.transform( skew(12deg, @skewY) );
							background-color: tint(@theme_c, 60%);
							z-index: 0;
						}
					}
					
					~ li {
						> a {
							margin-right: 0;
							
							&:after {
								.transform-origin(100% 50%);
								left: auto;
								right: 0;
							}
						}
					}
				}
				
				&:nth-child(6) {
					> a {
						margin-left: .3vw;
						
						&:after {
							.transform( skew(-12deg, (-1 * @skewY)) );
							background-color: tint(@theme_c, 65%);
							z-index: 1;
						}
					}
				}
				
				&:nth-child(7) {
					> a {
						margin-left: .5vw;
						
						&:after {
							.transform( skew(-8deg, (-1 * @skewY)) );
							background-color: tint(@theme_c, 70%);
							z-index: 2;
						}
					}
				}
				
				&:nth-child(8) {
					> a {
						margin-left: 1vw;
						
						&:after {
							.transform( skew(-4deg, (-1 * @skewY)) );
							background-color: tint(@theme_c, 75%);
							z-index: 3;
						}
					}
				}
				
				&:nth-child(9) {
					> a {
						margin-left: 3vw;
						
						&:after {
							.transform( skew(0, (-1 * @skewY)) );
							background-color: tint(@theme_c, 80%);
							z-index: 4;
						}
					}
				}
				
				> a {
					&.is-hover {
						&:after {
							background-color: @theme_c;
						}
					}
				}
			}
		}
	}
	
	.search-box {
		white-space: nowrap;
		
		fieldset {
			border: none;
			display: inline-block;
			margin: 0;
			padding: 0;
			position: relative;
			vertical-align: bottom;
			z-index: 5;
			
			&:first-child {
				.transition(width .2s);
				width: 0;
				
				&:after {
					.transform-origin(50% 50%);
					.transform( scaleX(0) );
					.transition(transform .2s);
					background-color: @theme_c;
					bottom: 0;
					content: "";
					display: block;
					height: 1px;
					left: 0;
					position: absolute;
					width: 100%;
				}
			}
		}
		
		input[type="text"] {
			background-color: transparent;	//@base_bgc;
			border: solid #a9a9a9;
			border-radius: 0;
			border-width: 0 0 1px;
			height: @icon_size;
			min-width: auto;
			min-width: initial;
			outline: none;
			width: 100%;
		}
		
		input[type="submit"] {
			display: none;
		}
		
		.btn-search {
			.transition(color .2s);
			cursor: pointer;
			display: block;
			
			&:before {
				display: block;
				font-size: @icon_size;
			}
		}
		
		&.is-rockOpen,
		&.is-focus,
		.lock-fixed& {
			fieldset:first-child {
				width: 200px;
				
				+ fieldset {
					margin-left: -4px;
				}
			}
			
			input[type="text"] {
				background-color: fade(@base_bgc, 50%);
				padding: 0 .5em;
			}
		}
		
		&.is-focus {
			@pad_v: (@block_pad / 4);
			padding: @pad_v 0 @pad_v 37px;
			
			fieldset:first-child {
				&:after {
					.transform( scaleX(1) );
				}
			}
			
			.btn-search {
				color: @theme_c;
			}
		}
	}
}