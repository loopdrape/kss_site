//out: null, main: style.less
/**------------------------------------
* posts */
.posts {
	body.page-index & {
		// flex box
		display: flex;
		display: -webkit-flex;
		flex-flow: row wrap;
		-webkit-flex-flow: row wrap;
		justify-content: flex-start;
		-webkit-justify-content: flex-start;
		
		.more-box ~ .post {
			display: none;
		}
	}
}

.post {
	a {
		text-decoration: none;
		
		&.is-hover {
			text-decoration: underline;
		}
	}
	
	img,
	video,
	iframe {
		display: block;
		max-width: 100%;
		margin: 0 auto;
	}
	
	body.page-index & {
		overflow: hidden;
		position: relative;
		width: 50%;
		
		@media (orientation: portrait) and (max-width: @mq_w) {
		}
		
		@media (min-width: (@mq_w + 1px)) {
			width: 33.333%;
			
			&:nth-child(1),
			&:nth-child(2) {
				width: 50%;
			}
		}
		
		&:before {
			content: "";
			display: block;
			padding-top: 56.25%;
		}
		
		> a {
			display: block;
			height: 100%;
			left: 0;
			position: absolute;
			top: 0;
			width: 100%;
			z-index: 3;
			
			&.is-hover {
				+ .entry-header {
					&:before {
						opacity: .6;
					}
				}
			}
		}
		
		> .post-background {
			.transform( skew(0, (@base_skewY * -1)) translate(-50%, -50%) );
			background-position: 45% 50%;
			background-repeat: no-repeat;
			background-size: cover;
			height: 116%;
			left: 50%;
			position: absolute;
			top: 45%;
			width: 100%;
			z-index: -1;
			
			img {
				max-width: initial;
				max-width: auto;
				min-height: 100%;
			}
		}
		
		> p,
		.caption {
			text-align: left;
		}
		
		.entry-header {
			.box-shadow(0, 1px, 2px, 0, #000, .4);
			.transition(all .4s);
			@this_c: #2f6f90;
			bottom: 0;
			color: @base_bgc;
			left: 0;
			margin: (@block_pad / 4);
			overflow: hidden;
			position: absolute;
			right: 0;
			top: 0;
			
			&:before {
				.transition(opacity .4s);
				background-color: @base_bgc;
				content: "";
				display: block;
				height: 100%;
				left: 0;
				opacity: .2;
				position: absolute;
				top: 0;
				width: 100%;
				z-index: 1;
			}
			
			.thumbnail {
				&:extend(body.page-index .post>.post-background);
				.box-sizing(content);
				.filter( blur(4px) );
				background-position: 45% 50%;
				padding: (@block_pad / 4);
				z-index: 0;
			}
				
			.entry-title {
				&:extend(.break-word);
				text-shadow: 2px -2px 2px fade(shade(@this_c, 30%), 50%);
				border-bottom-width: 0;
				color: inherit;
				margin-bottom: 0;
				padding: 2px 5px;
				position: relative;
				width: 100%;
				z-index: 1;
			}
			
			.date {
				bottom: 0;
				font-weight: 500;
				right: 5px;
				position: absolute;
				z-index: 1;
				
				@media (max-width: @mq_w) {
					font-size: 1.2rem;
				}
			}
		}
		
		.entry-content {
			height: 0;
			overflow: hidden;
		}
		
		.entry-footer {
			display: none;
		}
		
		&.more-box {
			background-color: tint(@theme_c, 20%);
			
			&:nth-child(6) {
				width: 100%;
				
				&:before {
					padding-top: 50px;
				}
			}
			
			> a {
				.box-shadow( inset, 1px, 1px, 6px, 0, #000, .3 );
				.transition(background .2s);
				
				&.is-hover {
					background-color: fade(@base_bgc, 20%);
				}
			}
			
			> p {
				.transform( translate(-50%, -50%) );
				color: @base_bgc;
				font-size: 2.6rem;
				line-height: 1;
				position: absolute;
				left: 50%;
				top: 50%;
				
				&:after {
					vertical-align: middle;
				}
			}
		}
	}
	
	body.page-permalink & {
		background-color: fade(@theme_c, 60%);
		border-radius: 4px;
		margin: 0 auto;
		padding: 10px;
		width: 100%;
		
		+ .post {
			margin-top: 50px;
		}
		
		@media (orientation: portrait) and (max-width: @mq_w) {
			width: 95%;
		}
	}
}
